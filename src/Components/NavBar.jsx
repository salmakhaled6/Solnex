import React, { useState } from "react";
import { Link, useLocation } from "react-router-dom";
import ContactForm from "../Pages/ContactForm";

function NavBar() {
  const [showContactForm, setShowContactForm] = useState(false);
  const location = useLocation(); 

  const handleOpenContactForm = () => {
    setShowContactForm(true);
  };

  const handleCloseContactForm = () => {
    setShowContactForm(false);
  };

  return (
    <div className="navbar">
      {showContactForm && (
        <div className="contact-form-overlay">
          <ContactForm />
          <button onClick={handleCloseContactForm}>
            <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
              <rect width="32" height="32" rx="16" fill="white"/>
              <path d="M16 5.5C10.15 5.5 5.5 10.15 5.5 16C5.5 21.85 10.15 26.5 16 26.5C21.85 26.5 26.5 21.85 26.5 16C26.5 10.15 21.85 5.5 16 5.5ZM16 25C11.05 25 7 20.95 7 16C7 11.05 11.05 7 16 7C20.95 7 25 11.05 25 16C25 20.95 20.95 25 16 25Z" fill="black"/>
              <path d="M20.05 21.25L16 17.2L11.95 21.25L10.75 20.05L14.8 16L10.75 11.95L11.95 10.75L16 14.8L20.05 10.75L21.25 11.95L17.2 16L21.25 20.05L20.05 21.25Z" fill="black"/>
            </svg>
          </button>
        </div>
      )}
      <button className="help-button" onClick={handleOpenContactForm}>
        دعنا نساعدك
      </button>

      <ul className="nav-links">
        <li className={location.pathname === "/contact" ? "active" : ""}>
          <Link to="/contact">تواصل معنا</Link>
        </li>
        <li className={location.pathname === "/work" ? "active" : ""}>
          <Link to="/work">أعمالنا</Link>
        </li>
        <li className={location.pathname === "/services" ? "active" : ""}>
          <Link to="/services">خدماتنا</Link>
        </li>
        <li className={location.pathname === "/" ? "active" : ""}>
          <Link to="/">الرئيسية</Link>
        </li>
      </ul>
      <p className="logo">
        <svg
          width="91"
          height="23"
          viewBox="0 0 91 23"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M7.64525 22.544C6.77058 22.544 5.90658 22.4587 5.05325 22.288C4.19992 22.1173 3.41058 21.8613 2.68525 21.52C1.98125 21.1787 1.41592 20.7733 0.98925 20.304C0.583917 19.8133 0.38125 19.2693 0.38125 18.672V15.056H1.14925C1.49058 17.2533 2.18392 18.8213 3.22925 19.76C4.27458 20.6987 5.69325 21.168 7.48525 21.168C8.27458 21.168 8.97858 21.0507 9.59725 20.816C10.2159 20.5813 10.6959 20.2293 11.0373 19.76C11.3999 19.2693 11.5813 18.6827 11.5813 18C11.5813 17.0827 11.2826 16.3147 10.6853 15.696C10.1093 15.056 9.28792 14.4053 8.22125 13.744L4.28525 11.408C2.85592 10.576 1.84258 9.72267 1.24525 8.848C0.66925 7.97333 0.38125 6.94933 0.38125 5.776C0.38125 4.09067 0.999917 2.75733 2.23725 1.776C3.47458 0.794666 5.11725 0.303999 7.16525 0.303999C8.01858 0.303999 8.86125 0.389332 9.69325 0.559999C10.5253 0.730665 11.2826 0.986665 11.9653 1.328C12.6693 1.648 13.2239 2.04267 13.6293 2.512C14.0559 2.98133 14.2693 3.52533 14.2693 4.144V7.76H13.5013C13.1386 5.56267 12.4453 4.00533 11.4213 3.088C10.4186 2.14933 9.07458 1.68 7.38925 1.68C6.68525 1.68 6.04525 1.808 5.46925 2.064C4.89325 2.32 4.44525 2.68267 4.12525 3.152C3.80525 3.62133 3.64525 4.18667 3.64525 4.848C3.64525 5.744 3.94392 6.48 4.54125 7.056C5.15992 7.632 6.00258 8.22933 7.06925 8.848L11.0053 11.184C12.4133 12.016 13.4479 12.8373 14.1093 13.648C14.7706 14.4373 15.1013 15.4187 15.1013 16.592C15.1013 18.4267 14.4399 19.8773 13.1173 20.944C11.8159 22.0107 9.99192 22.544 7.64525 22.544ZM35.958 22V4.912C35.958 3.952 35.8193 3.184 35.542 2.608C35.286 2.01067 34.678 1.712 33.718 1.712H33.27V0.879999H36.726C37.4727 0.879999 38.0487 0.997332 38.454 1.232C38.8807 1.46667 39.1793 1.872 39.35 2.448C39.5207 3.024 39.606 3.84533 39.606 4.912V22H35.958ZM68.134 22.32C66.6407 22.32 65.3607 21.9787 64.294 21.296C63.2487 20.592 62.438 19.6533 61.862 18.48C61.3073 17.2853 61.03 15.952 61.03 14.48C61.03 12.88 61.318 11.4933 61.894 10.32C62.47 9.14667 63.27 8.24 64.294 7.6C65.318 6.96 66.4913 6.64 67.814 6.64C69.2007 6.64 70.3953 6.90667 71.398 7.44C72.422 7.97333 73.2113 8.74133 73.766 9.744C74.3207 10.7467 74.598 11.9307 74.598 13.296L74.502 15.024H64.838C64.838 16.9867 65.1793 18.4693 65.862 19.472C66.566 20.4533 67.5047 20.944 68.678 20.944C69.766 20.944 70.6513 20.7093 71.334 20.24C72.038 19.7493 72.6673 19.1093 73.222 18.32L74.054 18.96C73.6913 19.5787 73.2433 20.144 72.71 20.656C72.1767 21.1467 71.5367 21.552 70.79 21.872C70.0433 22.1707 69.158 22.32 68.134 22.32ZM64.838 13.648H70.79C70.79 11.6427 70.5233 10.2027 69.99 9.328C69.478 8.45333 68.7527 8.016 67.814 8.016C67.2807 8.016 66.79 8.21867 66.342 8.624C65.894 9.02933 65.5313 9.648 65.254 10.48C64.9767 11.312 64.838 12.368 64.838 13.648Z"
            fill="white"
          />
          <path
            d="M25.047 22.32C23.511 22.32 22.1883 21.9787 21.079 21.296C19.9697 20.592 19.1163 19.6427 18.519 18.448C17.943 17.2533 17.655 15.9307 17.655 14.48C17.655 13.008 17.943 11.6853 18.519 10.512C19.1163 9.31733 19.9697 8.37867 21.079 7.696C22.1883 6.992 23.511 6.64 25.047 6.64C26.6043 6.64 27.9377 6.992 29.047 7.696C30.1563 8.37867 30.999 9.31733 31.575 10.512C32.1723 11.6853 32.471 13.008 32.471 14.48C32.471 15.9307 32.1723 17.2533 31.575 18.448C30.999 19.6427 30.1563 20.592 29.047 21.296C27.9377 21.9787 26.6043 22.32 25.047 22.32ZM25.047 20.944C25.8363 20.944 26.4977 20.6667 27.031 20.112C27.5643 19.536 27.9697 18.7573 28.247 17.776C28.5457 16.7947 28.695 15.696 28.695 14.48C28.695 13.2427 28.5457 12.144 28.247 11.184C27.9697 10.2027 27.5643 9.43467 27.031 8.88C26.4977 8.304 25.8363 8.016 25.047 8.016C24.3003 8.016 23.6497 8.304 23.095 8.88C22.5617 9.43467 22.1457 10.2027 21.847 11.184C21.5697 12.144 21.431 13.2427 21.431 14.48C21.431 15.696 21.5697 16.7947 21.847 17.776C22.1457 18.7573 22.5617 19.536 23.095 20.112C23.6497 20.6667 24.3003 20.944 25.047 20.944ZM44.4373 22V10.992C44.4373 10.032 44.2986 9.264 44.0213 8.688C43.7653 8.09067 43.1573 7.792 42.1973 7.792H41.7492V6.96H44.8213C45.5679 6.96 46.1439 7.06667 46.5493 7.28C46.9759 7.472 47.2959 7.77067 47.5093 8.176C47.9146 7.81333 48.4799 7.472 49.2053 7.152C49.9306 6.81067 50.8799 6.64 52.0533 6.64C53.2053 6.64 54.2186 6.832 55.0933 7.216C55.9679 7.57867 56.6399 8.18667 57.1093 9.04C57.5999 9.872 57.8453 11.0133 57.8453 12.464V22H54.2293V12.464C54.2293 11.3973 54.0799 10.5547 53.7813 9.936C53.4826 9.31733 53.0879 8.86933 52.5973 8.592C52.1279 8.31467 51.5946 8.176 50.9973 8.176C50.3786 8.176 49.8239 8.29333 49.3333 8.528C48.8426 8.74133 48.4159 9.008 48.0533 9.328V22H44.4373ZM76.1468 22L81.4268 15.088L78.4828 10.16C78.0348 9.392 77.5441 8.79467 77.0108 8.368C76.4774 7.94133 75.9334 7.68533 75.3788 7.6V6.96H78.2908C79.2081 6.96 79.9654 7.19467 80.5628 7.664C81.1814 8.112 81.7254 8.73067 82.1948 9.52L83.9228 12.432L88.0828 6.96H90.0028L84.7228 13.84L87.6988 18.8C88.1468 19.568 88.6374 20.1653 89.1708 20.592C89.7254 21.0187 90.2908 21.2747 90.8668 21.36V22H87.8908C86.9734 22 86.2054 21.776 85.5868 21.328C84.9894 20.8587 84.4561 20.2293 83.9868 19.44L82.2588 16.528L78.0668 22H76.1468Z"
            fill="#BBE536"
          />
        </svg>
      </p>
    </div>
  );
}

export default NavBar;
