import React, { useEffect, useState, useRef } from "react";
import './PartFour.css'
import imgGif from '../assets/images/lamp.gif'
// import gifch1 from '../assets/rocket.gif'

function PartFour() {
  const [visibleCards, setVisibleCards] = useState(0); 
  const sectionRef = useRef(null);
  const hasTriggered = useRef(false); 

  useEffect(() => {
    const handleScroll = () => {
      if (sectionRef.current) {
        const rect = sectionRef.current.getBoundingClientRect();
        if (rect.top <= window.innerHeight * 0.75 && !hasTriggered.current) {
          hasTriggered.current = true; 

          for (let i = 1; i <= 5; i++) {
            setTimeout(() => {
              setVisibleCards((prev) => prev + 1); 
            }, i * 500); 
          }
        }
      }
    };

    window.addEventListener("scroll", handleScroll);
    return () => window.removeEventListener("scroll", handleScroll);
  }, []);

  return (
    <div ref={sectionRef} className="solnex-box">
      <h4 className={visibleCards > 0 ? "animate-title" : ""}>
        ؟ Solnex لماذا تختار
      </h4>

      <div className="solnex-box-cards">
        <div className={`solnex-box-card ${visibleCards >= 1 ? "fade-in" : ""}`}>
        <svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M44.625 24C44.625 24.2984 44.5065 24.5845 44.2955 24.7955C44.0845 25.0065 43.7984 25.125 43.5 25.125H38.1956L31.0069 39.5025C30.9135 39.6896 30.7698 39.8469 30.5919 39.9569C30.4141 40.0669 30.2091 40.1251 30 40.125H29.9437C29.7256 40.1143 29.5154 40.0403 29.3386 39.9122C29.1618 39.784 29.0261 39.6071 28.9481 39.4031L17.9081 10.4194L11.5238 24.465C11.4345 24.6617 11.2905 24.8285 11.1089 24.9455C10.9274 25.0626 10.716 25.1249 10.5 25.125H4.5C4.20163 25.125 3.91548 25.0065 3.7045 24.7955C3.49353 24.5845 3.375 24.2984 3.375 24C3.375 23.7016 3.49353 23.4155 3.7045 23.2045C3.91548 22.9935 4.20163 22.875 4.5 22.875H9.77625L16.9762 7.03501C17.068 6.83281 17.2175 6.66227 17.4059 6.54487C17.5944 6.42748 17.8134 6.36847 18.0353 6.37529C18.2572 6.3821 18.4722 6.45444 18.6531 6.58318C18.834 6.71192 18.9727 6.89131 19.0519 7.09876L30.1388 36.2063L36.4931 23.4975C36.5865 23.3104 36.7302 23.1531 36.9081 23.0431C37.0859 22.9332 37.2909 22.8749 37.5 22.875H43.5C43.7984 22.875 44.0845 22.9935 44.2955 23.2045C44.5065 23.4155 44.625 23.7016 44.625 24Z" fill="#BBE536"/>
</svg>

          <p>تحقيق التحول الرقمي بسهولة</p>
        </div>
        <div className={`solnex-box-card ${visibleCards >= 2 ? "fade-in" : ""}`}>
        <svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
<path       className="draw-path"
 d="M34.504 24.98C33.936 29.71 30.838 31.6 29.5 32.972C28.16 34.348 28.4 34.622 28.49 36.64C28.505 36.8896 28.4688 37.1398 28.3834 37.3749C28.2981 37.61 28.1656 37.8252 27.9939 38.0071C27.8223 38.189 27.6152 38.3339 27.3855 38.4328C27.1557 38.5317 26.9081 38.5824 26.658 38.582H21.342C21.0921 38.5815 20.8448 38.5302 20.6154 38.431C20.3859 38.3319 20.1791 38.187 20.0074 38.0053C19.8358 37.8236 19.703 37.6088 19.6172 37.3741C19.5313 37.1393 19.4942 36.8895 19.508 36.64C19.508 34.66 19.692 34.2 18.5 32.972C16.98 31.452 13.404 29.306 13.404 23.404C13.3949 21.938 13.6896 20.486 14.2694 19.1395C14.8493 17.793 15.7019 16.5813 16.7733 15.5807C17.8448 14.58 19.1119 13.8122 20.4948 13.3256C21.8777 12.839 23.3464 12.6442 24.8084 12.7534C26.2703 12.8626 27.6938 13.2734 28.9891 13.9601C30.2844 14.6467 31.4234 15.5943 32.3343 16.743C33.2452 17.8916 33.9083 19.2166 34.2817 20.6343C34.6551 22.0519 34.7308 23.5316 34.504 24.98Z" stroke="#BBE536" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M20.9199 38.472V41.496C20.9199 42.322 21.3799 43 21.9459 43H26.0519C26.6219 43 27.0799 42.32 27.0799 41.496V38.472M22.4399 17.392C21.259 17.3926 20.1266 17.8621 19.2918 18.6973C18.4569 19.5325 17.9879 20.6651 17.9879 21.846M38.6639 23.808H42.3319M34.9719 11.784L37.5739 9.18203M36.9719 34L39.5739 36.6M23.9999 4.75403V7.72003M10.4799 9.18003L13.0639 11.784M8.47992 36.6L11.0639 34M9.33592 23.808H5.66992" stroke="#BBE536" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"       fill="none"
/>
</svg>

          <p>حلول تقنية مصممة خصيصًا لك</p>
        </div>
        <div className={`solnex-box-card ${visibleCards >= 3 ? "fade-in" : ""}`}>
        <svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M42.4999 9.054C42.5008 8.58144 42.4073 8.11347 42.2249 7.67755C42.0424 7.24163 41.7747 6.84654 41.4375 6.51548C41.1003 6.18442 40.7004 5.92406 40.2612 5.74968C39.822 5.57529 39.3524 5.49041 38.8799 5.5C36.8891 5.48527 34.9187 5.90146 33.1039 6.72C32.0313 7.1878 31.0385 7.82081 30.1619 8.596L14.7719 24.008C13.5475 25.2342 12.8599 26.8962 12.8599 28.629C12.8599 30.3618 13.5475 32.0238 14.7719 33.25C15.998 34.4737 17.6596 35.161 19.3919 35.161C21.1242 35.161 22.7858 34.4737 24.0119 33.25L39.4259 17.838C40.2063 16.9411 40.8388 15.9258 41.2999 14.83C42.1116 13.0137 42.5209 11.0433 42.4999 9.054Z" stroke="#BBE536" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M29.55 9.20605C32.0413 12.8548 35.2083 15.9927 38.88 18.4501M19.392 19.3861L14.532 18.4061C13.6502 18.2371 12.7405 18.2857 11.8817 18.5478C11.023 18.8099 10.2411 19.2775 9.60397 19.9101L5.83397 23.6801C5.67746 23.8312 5.56977 24.0258 5.52478 24.2387C5.47978 24.4516 5.49954 24.6731 5.5815 24.8746C5.66346 25.0762 5.80388 25.2486 5.98468 25.3697C6.16547 25.4908 6.37838 25.555 6.59597 25.5541H13.136M28.636 28.6301L29.596 33.4701C29.776 34.3498 29.7347 35.2605 29.4757 36.1203C29.2167 36.9802 28.748 37.7622 28.112 38.3961L24.32 42.1881C24.1664 42.339 23.9715 42.4411 23.76 42.4814C23.5485 42.5217 23.3298 42.4984 23.1314 42.4146C22.9331 42.3307 22.764 42.19 22.6456 42.0101C22.5272 41.8303 22.4647 41.6194 22.466 41.4041V34.8641M10.128 37.8721L24.014 24.0081" stroke="#BBE536" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
</svg>

{/* <img src={gifch1} alt="" /> */}
          <p>استراتيجيات تسويقية لزيادة مبيعاتك</p>
        </div>
        <div className={`solnex-box-card ${visibleCards >= 4 ? "fade-in" : ""}`}>
        <svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M22.5 4.49999C20.0325 4.49999 18 6.53249 18 8.99999L18.024 8.75399L16.5465 17.619L13.7115 25.377C13.6575 25.4475 13.593 25.5 13.5 25.5H12V24H4.5V43.5H12V39H17.889C20.355 39 22.5765 37.8045 24 35.9475C25.425 37.8045 27.645 39 30.111 39H36V43.5H43.5V24H36V25.5H34.5C34.4055 25.5 34.3425 25.4475 34.29 25.377L31.4535 17.619L29.976 8.75399L30 8.99999C30 6.53249 27.9675 4.49999 25.5 4.49999C24.99 4.49999 24.468 4.59899 24 4.84049C23.5338 4.61042 23.0198 4.49375 22.5 4.49999ZM22.4475 7.52399C22.4775 7.73999 22.5 8.23199 22.5 8.99999V32.157C22.3038 33.2364 21.7346 34.2127 20.8917 34.9151C20.0489 35.6175 18.9861 36.0015 17.889 36H12V28.5H13.5C14.0802 28.4992 14.6499 28.3446 15.151 28.0522C15.6521 27.7597 16.0669 27.3398 16.353 26.835L16.413 26.724L19.4535 18.381L21 9.12299V8.99999C21 8.17499 21.633 7.55249 22.4475 7.52399ZM25.5525 7.52399C26.367 7.55399 27 8.17349 27 8.99999V9.12299L28.5465 18.381L31.5885 26.724L31.647 26.8365C31.9333 27.341 32.3481 27.7606 32.8493 28.0528C33.3504 28.345 33.9199 28.4993 34.5 28.5H36V36H30.111C29.0136 36.0014 27.9507 35.6172 27.1078 34.9145C26.265 34.2118 25.6959 33.2352 25.5 32.1555V8.99999C25.5 8.23199 25.524 7.73999 25.5525 7.52399ZM7.5 27H9V40.5H7.5V27ZM39 27H40.5V40.5H39V27Z" fill="#BBE536"/>
</svg>
          <p>حلول مخصصة لكل عميل</p>
        </div>
        <div className={`solnex-box-card ${visibleCards >= 5 ? "fade-in" : ""}`}>
        <svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M21.32 21.3199C20.6065 22.0297 20.2037 22.9935 20.2 23.9999C20.2 25.0078 20.6003 25.9743 21.3129 26.687C22.0256 27.3996 22.9921 27.7999 24 27.7999C25.0063 27.7962 25.9702 27.3934 26.68 26.6799" stroke="#BBE536" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M24.0001 12.6C21.7454 12.6 19.5413 13.2686 17.6666 14.5212C15.7919 15.7739 14.3307 17.5543 13.4679 19.6374C12.605 21.7205 12.3793 24.0126 12.8192 26.224C13.259 28.4354 14.3448 30.4667 15.9391 32.061C17.5334 33.6553 19.5647 34.7411 21.7761 35.1809C23.9875 35.6208 26.2796 35.395 28.3627 34.5322C30.4458 33.6694 32.2262 32.2082 33.4789 30.3335C34.7315 28.4588 35.4001 26.2547 35.4001 24" stroke="#BBE536" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M24 5C20.2422 5 16.5687 6.11433 13.4442 8.20208C10.3196 10.2898 7.88436 13.2572 6.4463 16.729C5.00823 20.2008 4.63197 24.0211 5.36509 27.7067C6.09821 31.3924 7.90778 34.7778 10.565 37.435C13.2222 40.0922 16.6077 41.9018 20.2933 42.6349C23.9789 43.368 27.7992 42.9918 31.271 41.5537C34.7428 40.1156 37.7102 37.6804 39.7979 34.5558C41.8857 31.4313 43 27.7578 43 24M31.05 16.952L25.9 22.1" stroke="#BBE536" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M41.8799 11.6879L35.3999 12.5999L36.3119 6.11995C36.3186 6.04468 36.3027 5.96913 36.2663 5.90294C36.2298 5.83676 36.1745 5.78295 36.1073 5.74838C36.0401 5.71382 35.9641 5.70007 35.889 5.7089C35.814 5.71773 35.7433 5.74873 35.6859 5.79795L31.3899 10.0719C30.9487 10.5164 30.6241 11.063 30.4451 11.6632C30.2661 12.2633 30.2382 12.8984 30.3639 13.5119L31.0479 16.9519L34.4879 17.6339C35.1015 17.7596 35.7366 17.7318 36.3367 17.5528C36.9369 17.3738 37.4835 17.0492 37.9279 16.6079L42.1999 12.3139C42.2493 12.2565 42.2804 12.1856 42.2892 12.1103C42.298 12.035 42.2841 11.9589 42.2492 11.8916C42.2144 11.8243 42.1603 11.7689 42.0937 11.7327C42.0272 11.6964 41.9514 11.6808 41.8759 11.6879" stroke="#BBE536" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
          <p>تكامل سلس مع الأنظمة الحالية</p>
        </div>
      </div>
    </div>
  );
}

export default PartFour;
